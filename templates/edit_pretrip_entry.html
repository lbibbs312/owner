{% extends "base.html" %}
{% block content %}
<div class="container">
  <h2 class="mt-3">Edit PreTrip Entry (ID: {{ pretrip.id }})</h2>
  <form method="POST" action="">
    {{ form.hidden_tag() }}

    <div class="mb-3">
      {{ form.pretrip_date.label }}
      {{ form.pretrip_date(class="form-control") }}
    </div>
    <div class="mb-3">
      {{ form.shift.label }}
      {{ form.shift(class="form-select") }}
    </div>
    <div class="mb-3">
      {{ form.truck_type.label }}
      {{ form.truck_type(class="form-select") }}
    </div>
    <div class="mb-3">
      {{ form.start_mileage.label }}
      {{ form.start_mileage(class="form-control") }}
    </div>

    <!-- Booleans -->
    <div class="form-check">
      {{ form.cab_doors_windows(class="form-check-input") }}
      {{ form.cab_doors_windows.label(class="form-check-label") }}
    </div>
    <div class="form-check">
      {{ form.body_doors(class="form-check-input") }}
      {{ form.body_doors.label(class="form-check-label") }}
    </div>
    <div class="form-check">
      {{ form.oil_leak(class="form-check-input") }}
      {{ form.oil_leak.label(class="form-check-label") }}
    </div>
    <div class="form-check">
      {{ form.grease_leak(class="form-check-input") }}
      {{ form.grease_leak.label(class="form-check-label") }}
    </div>
    <div class="form-check">
      {{ form.coolant_leak(class="form-check-input") }}
      {{ form.coolant_leak.label(class="form-check-label") }}
    </div>
    <div class="form-check">
      {{ form.fuel_leak(class="form-check-input") }}
      {{ form.fuel_leak.label(class="form-check-label") }}
    </div>
    <div class="form-check">
      {{ form.lights_working(class="form-check-input") }}
      {{ form.lights_working.label(class="form-check-label") }}
    </div>
    <div class="form-check">
      {{ form.tires_ok(class="form-check-input") }}
      {{ form.tires_ok.label(class="form-check-label") }}
    </div>

    <div class="mb-3">
      {{ form.damage_report.label }}
      {{ form.damage_report(class="form-control") }}
    </div>

    <!-- EPHEMERAL FIELDS: "Reviewing Driver" + "Reviewing Date" -->
    <div class="mb-3">
      <label for="reviewing_driver">Reviewing Driver:</label>
      <input 
        type="text"
        id="reviewing_driver"
        name="reviewing_driver"
        class="form-control"
        value="{{ current_user.username if current_user else '' }}"
      >
    </div>
    <div class="mb-3">
      <label for="reviewing_date">Review Date:</label>
      <input
        type="text"
        id="reviewing_date"
        name="reviewing_date"
        class="form-control"
        value="{{ today_date|default('') }}"
      >
    </div>

    {{ form.submit(class="btn btn-primary") }}
  </form>
</div>
{% endblock %}
